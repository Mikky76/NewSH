{# src/NewsBundle/Resources/views/News/form.html.twig #}

<div class="well">
	{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

    {# Les erreurs générales du formulaire. #}
    {{ form_errors(form) }}

    <div class="form-group">
        <div class="col-lg-12">
          {# Génération du label. #}
          {{ form_label(form.title, "Titre", {'label_attr': {'class': 'control-label'}}) }}
          {# Affichage des erreurs du titre #}
          {{ form_errors(form.title) }}
          {# Génération de l'input. #}
          {{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
		</div>
    </div>

    <div class="form-group">
      {{ form_errors(form.content) }}

		<div class="col-lg-12">
			{{ form_widget(form.content, {'attr': {'class': 'form-control'}}) }}
		</div>
    </div>

    <div class="form-group">
        {{ form_row(form.date) }}

        {#Si News déjà publié, on n'affiche plus le champs#}
        {% if form.published is defined %}
            {{ form_row(form.published) }}
        {% endif %}
    </div>

  {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}

  {% if news is defined %}
      <img
              src="{{ asset(news.image.webPath) }}"
              alt="{{ news.image.alt }}"
      />
  {% endif %}

  {{ form_end(form) }}
</div>