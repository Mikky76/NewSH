{# src/NewsBundle/Resources/views/News/index.html.twig #}

{% extends "NewsBundle::layout.html.twig" %}

{% block title %}
  {{ parent() }} - Accueil
{% endblock %}

{% block shnews_body %}

  <h2>Liste des news</h2>

    <ul class="list-group">
        {% for news in listNews %}
        <a href="{{ path('sh_news_view', {'id': news.id}) }}" class="list-group-item">
            <h4 class="list-group-item-heading">{{ news.title }}</h4>
            <p class="list-group-item-text pull-right">Résumé</p>
            {% if news.image is not null %}
                <img src="{{ news.image.webPath | imagine_filter('miniature')}}"
                     alt="{{ news.image.alt }}">
            {% endif %}
        </a>
          {#<li>#}
            {#<a href="{{ path('sh_news_view', {'id': news.id}) }}">#}
              {#{{ news.title }}#}
            {#</a>#}
            {#par {{ news.author }},#}
            {#le {{ news.date|date('d/m/Y') }}#}
          {#</li>#}
        {% else %}
          <li>Pas (encore !) de news</li>
        {% endfor %}
    </ul>
	<ul class="pagination">

	  {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}

	  {% for p in range(1, nbPages) %}

		<li{% if p == page %} class="active"{% endif %}>

		  <a href="{{ path('sh_news_home', {'page': p}) }}">{{ p }}</a>

		</li>

	  {% endfor %}

	</ul>
{% endblock %}